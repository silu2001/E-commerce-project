const asideFilterParent=document.querySelector(".aside-filter-parent.facets-wrapper");let allMobileDetails=document.querySelectorAll(".main__facets-container #FacetsWrapperDesktop details");allMobileDetails?.forEach(details=>{details?.addEventListener("click",event=>{handleDetailsOpen(event)})}),asideFilterParent?.addEventListener("click",event=>{window.innerWidth<999&&event.target===asideFilterParent&&closeFacetsOnOverlayClick()});function closeFacetsOnOverlayClick(){let sortingModal=document.querySelector(".custom_sort_modal.custom_sort_modal_mobile"),filterModal=document.querySelector(".main__facets-container.facets-container");sortingModal.style.display=="block"?sortingModal.querySelector("div[data-modal]").click():filterModal.style.display=="flex"&&filterModal.querySelector("div[data-modal]").click()}function handleDetailsOpen(event){let clickedDetails=event.target.closest("details.facets__disclosure-vertical");!clickedDetails.style.display=="none"&&(clickedDetails.hasAttribute("open")||(allMobileDetails.forEach(details=>{let summary=details.querySelector("summary.facets__summary");details.removeAttribute("open"),summary.setAttribute("aria-expanded","false")}),setTimeout(()=>{if(event.target.closest("details.facets__disclosure-vertical")){let clickedDetails2=event.target.closest("details.facets__disclosure-vertical");event.target.closest("details.facets__disclosure-vertical summary.facets__summary").setAttribute("aria-expanded","true"),clickedDetails2.setAttribute("open","")}},100)))}function openCusotmSortings(e){e.nextElementSibling?.classList.toggle("open_custom_sort")}function applySorting(e){let sortingToApply=e.getAttribute("value"),mainSortSelect=document.querySelector("#FacetSortForm").querySelector("select");mainSortSelect.value=sortingToApply,document.querySelector("#FacetSortForm")?.dispatchEvent(new Event("input",{bubbles:!0})),sessionStorage.removeItem("sorting-applied"),sessionStorage.setItem("sorting-applied",sortingToApply),applyActiveSort()}function applyActiveSort(){let appliedSort=sessionStorage.getItem("sorting-applied");if(appliedSort){let sortedElement=document.querySelectorAll('.custom-sort-option[value="'+appliedSort+'"]');document.querySelectorAll(".custom-sort-option").forEach(ele=>{ele.classList.remove("sort-active")}),sortedElement&&sortedElement.forEach(ele=>{ele?.classList.add("sort-active")})}}function changeMobileGrid(e){let gridCards=document.querySelector(".main-grid-container").querySelectorAll("li");document.querySelectorAll(".grid-icon").forEach(icon=>{icon.classList.remove("active-grid")});let gridToSet=e.getAttribute("data-grid");e.classList.add("active-grid"),gridToSet=="2"?gridCards.forEach(card=>{card.style.flex="0 0 48%"}):gridCards.forEach(card=>{card.style.flex="0 0 100%"})}window.onLoadGridSwitcher=()=>{if(window.innerWidth<=998){let gridCards=document.querySelector(".main-grid-container").querySelectorAll("li");document.querySelector(".mobile-grid-changer .grid-icon.active-grid").getAttribute("data-grid")=="2"?gridCards.forEach(card=>{card.style.flex="0 0 48%"}):gridCards.forEach(card=>{card.style.flex="0 0 100%"})}};function openMobileFacets(value){let modalOutLay=document.querySelector(".aside-filter-parent"),body=document.body,modalToOpen=document.querySelector(`[data-modal-open="${value}"]`);window.innerWidth<=999&&modalToOpen&&(modalOutLay.style.display="block",body.style.overflow="hidden",value=="sort"?modalToOpen.style.display="block":value=="filter"&&(modalToOpen.style.display="flex"))}function closeMobileFacets(value){let modalOutLay=document.querySelector(".aside-filter-parent"),modalToClose=document.querySelector(`[data-modal-open="${value}"]`),body=document.body;window.innerWidth<=999&&(modalToClose&&(body.style.overflow=null,modalOutLay.style.display="none",modalToClose.style.display="none"),closeDetails(modalToClose))}function closeDetails(modalToClose){modalToClose.querySelectorAll("details").forEach(detail=>{detail.removeAttribute("open"),detail.querySelector("summary").setAttribute("aria-expanded","false")})}function removeBrandQuick(){let quickBrandFilters=document.querySelector(".quick_brand_filter_parent"),closebtn=document.querySelector(".mobile_filter_heading_close .closeFilterBtn");closebtn&&(console.log(closebtn,"closebtn"),closebtn.click()),quickBrandFilters&&quickBrandFilters.querySelectorAll(".quick_brand_filter").forEach(tab=>{tab.classList.contains("quick_brand_filter_active")&&tab.classList.remove("quick_brand_filter_active")})}function clearMobileSorting(){let realClearBtn=document.querySelector(".mobile_btn_parent.active-facets-mobile a");document.querySelectorAll(".custom-sort-option").forEach(option=>{option?.classList.remove("sort-active")});let closebtn=document.querySelector(".mobile_sort_heading_close .closesortbtn");closebtn&&closebtn.click(),sessionStorage.removeItem("sorting-applied")}window.addEventListener("DOMContentLoaded",applyActiveSort),document.addEventListener("DOMContentLoaded",function(){}),window.handleInfiniteScroll=function(){window.onClickCollectionPagination=async(link,event)=>{document.querySelector(".infinite_pagination_colleciton").style.display="none",document.querySelector(".rotating").style.display="flex",event.preventDefault(),link.style.width=`${link.offsetWidth}px`,link.style.height=`${link.offsetHeight}px`,link.innerHTML=`
      <div class="spinner-border spinner-border-sm mx-auto" role="status" style="width: 1.2rem; height: 1.2rem">
          <span class="visually-hidden">Loading...</span>
      </div>
    `;const data=await(await fetch(link.getAttribute("href"))).text(),newDocument=new DOMParser().parseFromString(data,"text/html");document.querySelector(".collection #product-grid").insertAdjacentHTML("beforeend",newDocument.querySelector(".collection #product-grid").innerHTML),document.querySelector("#product-grid-Pagination").replaceWith(newDocument.querySelector("#product-grid-Pagination"));const customEvent=new CustomEvent("ks.collection.paginated");link.dispatchEvent(customEvent),typeof ReloadSmartWishlist<"u"&&ReloadSmartWishlist(),window.onLoadGridSwitcher()}},handleInfiniteScroll(),window.addEventListener("DOMContentLoaded",()=>{window.innerWidth>=999&&window.addEventListener("click",event=>{handleClosingSort(event)})});function handleClosingSort(event){let sortElement=document.querySelector(".custom-sorting_wrapper .custom_sort_modal");event.target.closest(".custom-sorting_wrapper")==null&&sortElement.classList.contains("open_custom_sort")&&sortElement.classList.remove("open_custom_sort")}const elementToTrack=document.querySelector(".footer__content-top"),handleScroll=()=>{if(window.innerWidth>999){const elementRect=elementToTrack.getBoundingClientRect(),windowHeight=window.innerHeight;elementRect.top>windowHeight?document.querySelector(".aside-filter-parent#main-collection-filters").classList.remove("footer-in-sight"):document.querySelector(".aside-filter-parent#main-collection-filters").classList.add("footer-in-sight")}};window.addEventListener("scroll",handleScroll);
//# sourceMappingURL=/cdn/shop/t/92/assets/custom-collection.js.map?v=62017061520385283701742986561
