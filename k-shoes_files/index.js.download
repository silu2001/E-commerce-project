import{A as R,B as E,a as n,n as o,o as p,p as d,q as f,r as g,s as y,v,w as I,x as T,y as x,z as F}from"./chunk-NLKB4O7J.js";o();o();var M="9db678ead8df7631e47f471f074ea689",B="forms-frontend-app-embed",k="production",G="77c458c64673cc00c39c6a83706af1c566adad3a",H=n((e=!0)=>{let t=["production","staging","staging_qtfb","staging_avwf"];I()||t.push("development"),p.start({apiKey:M,appId:B,appVersion:G,releaseStage:k,trackConsoleErrors:e,enabledReleaseStages:t,endpoints:{notify:"https://error-analytics-production.shopifysvc.com",sessions:"https://error-analytics-sessions-production.shopifysvc.com"}})},"initBugsnagClient"),w=H;o();var S="forms_visit_count",L=n(e=>f(S,e),"setVisitCountValue"),m=n(()=>{let e=g(S);return e?parseInt(e,10):0},"getSessionVisitCountValue"),h=n(()=>{let e=T()||"unknown",t=x(),r=m();(t!==e||!t)&&(r=0,F(e));let i=r+1;L(i)},"incrementVisitCount");o();o();var O=n(()=>{var r;let e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(((r=window==null?void 0:window.navigator)==null?void 0:r.userAgent)||""),t=window.matchMedia&&window.matchMedia("(max-width: 767px)").matches;return e||t},"isMobile"),A=n(e=>!e||e==="all"?!0:O()?e==="mobile":e==="desktop","executeDeviceTypeFilter");o();var b=n(e=>m()>=e.showAfter,"executeVisitFilter");o();function P(e){let t=e.includePageTypes;return e.showOnAllPageTypes||!t?{shouldTrigger:!0,delay:e.delay}:{shouldTrigger:t==null?void 0:t.includes(E()),delay:e.delay}}n(P,"executePageTypeRule");o();var _=n((e,t)=>{let r=n(s=>{s.clientY<=150&&(window.ShopifyForms={...window.ShopifyForms,triggerExitIntent:!0},t(),document.dispatchEvent(i),document.removeEventListener("mouseleave",r))},"handler"),i=new Event(`forms:exit-intent:${e}`);document.addEventListener("mouseleave",r)},"detectExitIntent");o();var C=n(e=>new Promise(t=>setTimeout(t,e)),"waitFor");var D=n(async(e,t,r)=>{let{triggers:i,filters:s}=t,a=!1;if(!i.navigation||!A(s.device))return!1;let u=P(i.navigation);return u.shouldTrigger?(i.displayDetectLeave&&(_(e,r),a=!0),(s.visit?b(s.visit):!0)?(await C(u.delay),r(),!0):a):!1},"executeDisplayRules");o();var V=n(e=>{let t=`[data-forms-id=forms-root-${e}]`,r=document.querySelectorAll(t);return Array.from(r)},"getAllInlineContainers");w(!1);var q=n(async(e,t,r,i,s)=>{if(document.getElementById(`app-embed-container-${e}`)&&r.form.layout!=="inline")return;let{setupApp:c}=await import("./App-4S2XL5QI.js");c(e,t,r,s,i)},"importAndRenderApp"),N=n(async(e,t,r,i,s)=>{let{setupApp:a}=await import("./App-4S2XL5QI.js");for(let c of s)a(e,t,r,c,i)},"importAndRenderInlineForms");(async()=>{try{let t=await new v({version:2,retries:3}).getMultipleInstances();if(!t||!t.formInstances)return;let{formInstances:r,clientCountry:i}=t;h(),await U(r,i)}catch(e){if(e instanceof y&&e.status===404)return;d.fromError(e).notify()}})();async function U(e,t){return Promise.all(e.map(async r=>{let{id:i,styles:s,formDefinition:a,displayRules:c}=r,u=V(i),l=a.form.layout==="inline";if(l&&(u==null?void 0:u.length)>0)return N(i,s,a,t,u);if(!(l&&u.length<1||new R(i).isFormDismissed()))return D(i,c,async()=>{await q(i,s,a,t)})}))}n(U,"renderAllForms");
//# sourceMappingURL=index.js.map
